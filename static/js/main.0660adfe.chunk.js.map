{"version":3,"sources":["hooks/form.js","components/context/Login.js","components/auth/auth.js","components/context/Settings.js","components/Pagination/Pagination.js","components/todo/todo.js","components/navbar/Navbar.js","components/LoginForm/loginForm.js","App.js","reportWebVitals.js","index.js"],"names":["useForm","callback","defaultValues","useState","values","setValues","handleSubmit","event","preventDefault","target","reset","handleChange","persist","name","value","parseInt","useEffect","LoginContext","React","createContext","Login","props","loggedIn","setLoggedIn","username","cookie","load","actions","user","setUser","login","password","superAgent","post","set","base64","encode","response","console","log","body","validateMyUser","token","userFromToken","jwt","decode","save","state","can","action","includes","logout","remove","Provider","children","Auth","useContext","condition","SettingsContext","SettingsContextProvider","currentPage","setCurrentPage","postsPerPage","setPostsPerPage","todoContext","showComplete","setShowComplete","Pagination","totalPosts","paginate","pageNumbers","i","Math","ceil","push","className","map","number","onClick","LOCAL_STORAGE_KEY","ToDo","todos","setTodos","difficulty","list","setList","incomplete","setIncomplete","listOfUncompleted","setListOfUncompleted","item","id","uuid","complete","toggleComplete","items","storageTodos","JSON","parse","localStorage","getItem","length","storageShow","storageNumber","storageIncomplete","setItem","stringify","indexOfLastPost","indexOfFirstPost","currentPosts","slice","currentUncompletedPosts","incompleteCount","filter","document","title","onSubmit","onChange","type","placeholder","defaultValue","min","max","e","index","deleteItem","text","assignee","defaultChecked","htmlFor","deleteListItem","toggleUncompletedList","pageNumber","homeNavbar","Group","align","Alignment","LEFT","Heading","Divider","LoginForm","loginContext","setUsername","setPassword","required","App","Navbar","Settings","Component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.0660adfe.chunk.js","sourcesContent":["import { useState, useEffect } from 'react';\n\nconst useForm = (callback, defaultValues = {}) => {\n\n  const [values, setValues] = useState({});\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    callback(values);\n    event.target.reset();\n  };\n\n  const handleChange = (event) => {\n    event.persist();\n\n    let { name, value } = event.target;\n    if (parseInt(value)) {\n      value = parseInt(value);\n    }\n\n    setValues(values => ({ ...values, [name]: value }));\n  };\n\n  useEffect(() => {\n    setValues(defaultValues);\n  }, [defaultValues]);\n\n  return {\n    handleChange,\n    handleSubmit,\n    values,\n  };\n};\n\nexport default useForm;","import React, { useState, useEffect } from \"react\";\nimport cookie from \"react-cookies\";\nimport superAgent from \"superagent\";\n\nimport jwt from 'jsonwebtoken';\nimport base64 from 'base-64';\nexport const LoginContext = React.createContext();\nconst API = `https://hiservice.herokuapp.com`;\nexport default function Login(props) {\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [user, setUser] = useState({\n\n    username: cookie.load('username') || \"\",\n    actions: cookie.load('actions') || []\n  });\n  useEffect(() => {\n    const tokenFromCookies = cookie.load('token');\n    if (tokenFromCookies) {\n      setLoggedIn(true);\n      setUser(user);\n    } else {\n      setLoggedIn(false);\n      setUser({})\n    }\n    // eslint-disable-next-line\n  }, []);\n  const can = (action) => {\n    return user?.actions?.includes(action)\n  }\n  const login = async (username, password) => {\n    const response = await superAgent.post(`${API}/users/login`).set('authorization', `Basic ${base64.encode(`${username}:${password}`)}`);\n    console.log(response.body)\n    validateMyUser(response.body)\n  }\n  const validateMyUser = (user) => {\n    if (user.token) {\n      const userFromToken = jwt.decode(user.token);\n      console.log('username >>>> ', userFromToken);\n      setLoggedIn(true);\n      setUser(user);\n      cookie.save('token', user.token);\n      cookie.save('username', user.username);\n      cookie.save('actions', user.actions);\n      console.log({ loggedIn });\n    } else {\n      setLoggedIn(false);\n      setUser({});\n    }\n  }\n  const logout = () => {\n    setLoggedIn(false);\n    setUser({});\n    cookie.remove('token');\n    cookie.remove('actions');\n    cookie.remove('username');\n  }\n  const state = {\n    loggedIn: loggedIn,\n    user: user,\n    can: can,\n    login: login,\n    logout: logout\n  }\n  return (\n    <>\n      <LoginContext.Provider value={state}>\n        {props.children}\n      </LoginContext.Provider>\n    </>\n  )\n}","import React, { useContext } from \"react\";\nimport { LoginContext } from \"../context/Login\";\nimport { When } from \"react-if\";\n\nexport default function Auth(props) {\n  const login = useContext(LoginContext);\n  return (\n    <>\n      <When condition={login.loggedIn && login.can(props.actions)}>\n        {props.children}\n      </When>\n    </>\n  );\n}","import React, { createContext, useContext, useState } from \"react\";\n\nexport const SettingsContext = createContext();\n\nconst SettingsContextProvider = ({ children }) => {\n  const [currentPage, setCurrentPage] = useState(1);\n  const [postsPerPage, setPostsPerPage] = useState(3);\n  const [showComplete, setShowComplete] = useState(true);\n\n  const todoContext = {\n    currentPage,\n    setCurrentPage,\n    postsPerPage,\n    showComplete,\n    setShowComplete,\n    setPostsPerPage,\n  };\n  return (\n    <SettingsContext.Provider value={todoContext}>\n      {children}\n    </SettingsContext.Provider>\n  );\n}\n\nexport const useSettingsContext = () => useContext(SettingsContext);\n\nexport default SettingsContextProvider;","import React from 'react';\n\nconst Pagination = ({ postsPerPage, totalPosts, paginate }) => {\n  const pageNumbers = [];\n\n  for (let i = 1; i <= Math.ceil(totalPosts / postsPerPage); i++) {\n    pageNumbers.push(i);\n  }\n\n  return (\n    <nav aria-label=\"Page navigation example\">\n      <ul className='pagination'>\n        {pageNumbers.map(number => (\n          <li key={number} className='page-item'>\n            {/* <a onClick={() => paginate(number)} href='/' className='page-link'>\n              {number}\n            </a> */}\n            <button onClick={() => paginate(number)} className='page-link'>{number}</button>\n          </li>\n        ))}\n      </ul>\n    </nav>\n  );\n};\n\nexport default Pagination;","import React, { useEffect, useState, useContext } from 'react';\nimport useForm from '../../hooks/form.js';\n\n// import Form from '../context/Form';\nimport { When } from 'react-if';\nimport { LoginContext } from \"../context/Login\"\nimport Auth from \"../auth/auth\"\n\nimport { v4 as uuid } from 'uuid';\nimport { useSettingsContext } from '../context/Settings'\nimport Pagination from \"../Pagination/Pagination\";\nimport './todo.scss';\n\nconst LOCAL_STORAGE_KEY = 'localStorage';\n\nconst ToDo = () => {\n  const { currentPage, setCurrentPage, postsPerPage, setPostsPerPage, showComplete, setShowComplete } = useSettingsContext();\n  const login = useContext(LoginContext);\n\n  const [todos, setTodos] = useState([]);\n  const [defaultValues] = useState({\n    difficulty: 3,\n  });\n\n  const [list, setList] = useState([]);\n  const [incomplete, setIncomplete] = useState([]);\n  const [listOfUncompleted, setListOfUncompleted] = useState([]);\n  const { handleChange, handleSubmit } = useForm(addItem, defaultValues);\n\n\n  function addItem(item) {\n    item.id = uuid();\n    item.complete = false;\n    setList([...list, item]);\n    setTodos([...todos, item]);\n  }\n\n  function deleteItem(id) {\n    const items = list.filter(item => item.id !== id);\n    setList(items);\n  }\n\n  function deleteListItem(id) {\n    const items = listOfUncompleted.filter(item => item.id !== id);\n    setListOfUncompleted(items);\n  }\n\n  function toggleComplete(id) {\n    const items = todos.map(item => {\n      if (item.id === id) {\n        item.complete = !item.complete;\n      }\n      if (item.complete === false) {\n        setListOfUncompleted([...listOfUncompleted, item])\n      }\n      return item;\n    });\n    setTodos(items);\n    setList(items);\n  }\n  function toggleUncompletedList(id) {\n    const items = listOfUncompleted.map(item => {\n      if (item.id === id) {\n        item.complete = !item.complete;\n      }\n      if (item.complete === true) {\n        listOfUncompleted.filter(item => item.id !== id)\n      }\n      return item;\n    });\n    setTodos(items);\n    setListOfUncompleted(items);\n  }\n\n  const handleShow = () => {\n    setShowComplete(!showComplete)\n  }\n\n  useEffect(() => {\n    const storageTodos = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY));\n    if (storageTodos) {\n      if (storageTodos.length > 0) {\n        setTodos(storageTodos);\n      }\n    }\n    const storageShow = JSON.parse(localStorage.getItem('status'));\n    if (storageShow) {\n      if (storageShow.length > 0) {\n        setShowComplete(storageShow);\n      }\n    }\n    const storageNumber = JSON.parse(localStorage.getItem('number'));\n    if (storageNumber) {\n      if (storageNumber.length > 0) {\n        setPostsPerPage(storageNumber);\n      }\n    }\n    const storageIncomplete = JSON.parse(localStorage.getItem('incomplete'));\n    if (storageIncomplete) {\n      if (storageIncomplete.length > 0) {\n        setListOfUncompleted(storageIncomplete);\n      }\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  useEffect(() => {\n    // fires when todos array gets updated\n    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(todos));\n    localStorage.setItem('status', JSON.stringify(showComplete));\n    localStorage.setItem('number', JSON.stringify(postsPerPage));\n    localStorage.setItem('incomplete', JSON.stringify(listOfUncompleted));\n  }, [todos, showComplete, postsPerPage, listOfUncompleted]);\n\n  // Get current posts\n  const indexOfLastPost = currentPage * postsPerPage;\n  const indexOfFirstPost = indexOfLastPost - postsPerPage;\n  const currentPosts = todos.slice(indexOfFirstPost, indexOfLastPost);\n  const currentUncompletedPosts = listOfUncompleted.slice(indexOfFirstPost, indexOfLastPost);\n\n  // Change page\n  const paginate = pageNumber => setCurrentPage(pageNumber);\n\n  useEffect(() => {\n    let incompleteCount = todos.filter(item => !item.complete).length;\n    setIncomplete(incompleteCount);\n    document.title = `To Do List: ${incomplete}`;\n  }, [todos, incomplete]);\n\n  useEffect(() => {\n    if (todos.complete === false) {\n      setListOfUncompleted([...listOfUncompleted, todos.complete]);\n    }\n  }, [todos, listOfUncompleted]);\n\n  return (\n    <>\n      <When condition={login.loggedIn}>\n        <button onClick={login.logout}>Log Out</button>\n        <Auth actions='read'>\n          <header data-testid='header'>\n            <h1>To Do List: {incomplete} items pending</h1>\n          </header>\n        </Auth>\n        <Auth actions='delete'>\n          <form onSubmit={handleSubmit}>\n\n            <h2 className='text-head'>Add To Do Item</h2>\n\n            <label>\n              <span>To Do Item</span>\n              <input data-testid='input' onChange={handleChange} name=\"text\" type=\"text\" placeholder=\"Item Details\" />\n            </label>\n\n            <label>\n              <span>Assigned To</span>\n              <input onChange={handleChange} name=\"assignee\" type=\"text\" placeholder=\"Assignee Name\" />\n            </label>\n\n            <label>\n              <span>Difficulty</span>\n              <input onChange={handleChange} defaultValue={defaultValues.difficulty} type=\"range\" min={1} max={5} name=\"difficulty\" />\n            </label>\n\n            <label>\n              <button data-testid='button' type=\"submit\">Add Item</button>\n            </label>\n\n            <input type=\"number\" className='per-page' name=\"postsPerPage\" placeholder='Number of posts per page' onChange={(e) => { setPostsPerPage(parseInt(e.target.value)) }} />\n          </form>\n          <button className='show' onClick={handleShow}>{showComplete ? 'Hide Completed Items' : 'Show Completed Items'}</button>\n          {\n            showComplete ?\n              currentPosts.map((item, index) => {\n                return (\n                  <div className='list-continuer' key={index}>\n                    <div key={item.id} className='items'>\n                      <div className='btn-list'>\n                        <button onClick={() => deleteItem(item.id)}>x</button>\n                      </div>\n                      <p className='p-text'>\n                        {item.text}\n                      </p>\n                      <div className='p-holder'>\n                        <span className='p-assigned'><small>Assigned to: {item.assignee}</small></span>\n                        <span className='p-difficulty'><small>Difficulty: {item.difficulty}</small></span>\n                      </div>\n                      <div className='checkbox'>\n                        {\n                          item.complete ? <div>\n                            <input type=\"checkbox\" name='completed' onClick={() => toggleComplete(item.id)} defaultChecked={true} />\n                            <label htmlFor=\"completed\">Completed</label>\n                          </div>\n                            : <div>\n                              <input type=\"checkbox\" name=\"Incomplete-item\" onClick={() => toggleComplete(item.id)} />\n                              <label htmlFor=\"Incomplete-item\">Complete</label>\n                            </div>\n                        }\n                      </div>\n                      <hr />\n                    </div>\n                  </div>\n                )\n              })\n              : currentUncompletedPosts.map((item, index) => {\n                return (\n                  <div className='list-continuer' key={index}>\n                    <div key={item.id} className='items'>\n                      <div className='btn-list'>\n                        <button onClick={() => deleteListItem(item.id)}>x</button>\n                      </div>\n                      <p className='p-text'>\n                        {item.text}\n                      </p>\n                      <div className='p-holder'>\n                        <span className='p-assigned'><small>Assigned to: {item.assignee}</small></span>\n                        <span className='p-difficulty'><small>Difficulty: {item.difficulty}</small></span>\n                      </div>\n                      <div className='checkbox'>\n                        {\n                          !item.complete ? <div>\n                            <input type=\"checkbox\" name='Incomplete' onClick={() => toggleUncompletedList(item.id)} />\n                            <label htmlFor=\"Incomplete\">Complete</label>\n                          </div> : null\n                        }\n                      </div>\n                      <hr />\n                    </div>\n                  </div>\n                )\n              })\n          }\n          <div className='page'>\n            <Pagination postsPerPage={postsPerPage}\n              totalPosts={todos.length}\n              paginate={paginate} />\n          </div>\n        </Auth>\n      </When>\n    </>\n  );\n};\n\nexport default ToDo;\n// eslint-disable-next-line\n{/* ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ */ }\n// eslint-disable-next-line\n{/* <header data-testid='header'>\n          <h1>To Do List: {incomplete} items pending</h1>\n        </header>\n\n        <form onSubmit={handleSubmit}>\n\n          <h2 className='text-head'>Add To Do Item</h2>\n\n          <label>\n            <span>To Do Item</span>\n            <input data-testid='input' onChange={handleChange} name=\"text\" type=\"text\" placeholder=\"Item Details\" />\n          </label>\n\n          <label>\n            <span>Assigned To</span>\n            <input onChange={handleChange} name=\"assignee\" type=\"text\" placeholder=\"Assignee Name\" />\n          </label>\n\n          <label>\n            <span>Difficulty</span>\n            <input onChange={handleChange} defaultValue={defaultValues.difficulty} type=\"range\" min={1} max={5} name=\"difficulty\" />\n          </label>\n\n          <label>\n            <button data-testid='button' type=\"submit\">Add Item</button>\n          </label>\n\n          <input type=\"number\" className='per-page' name=\"postsPerPage\" placeholder='Number of posts per page' onChange={(e) => { setPostsPerPage(parseInt(e.target.value)) }} />\n        </form>\n        <button className='show' onClick={handleShow}>{showComplete ? 'Hide Completed Items' : 'Show Completed Items'}</button>\n        {\n          showComplete ?\n            currentPosts.map((item, index) => {\n              return (\n                <div className='list-continuer' key={index}>\n                  <div key={item.id} className='items'>\n                    <div className='btn-list'>\n                      <button onClick={() => deleteItem(item.id)}>x</button>\n                    </div>\n                    <p className='p-text'>\n                      {item.text}\n                    </p>\n                    <div className='p-holder'>\n                      <span className='p-assigned'><small>Assigned to: {item.assignee}</small></span>\n                      <span className='p-difficulty'><small>Difficulty: {item.difficulty}</small></span>\n                    </div>\n                    <div className='checkbox'>\n                      {\n                        item.complete ? <div>\n                          <input type=\"checkbox\" name='completed' onClick={() => toggleComplete(item.id)} defaultChecked={true} />\n                          <label htmlFor=\"completed\">Completed</label>\n                        </div>\n                          : <div>\n                            <input type=\"checkbox\" name=\"Incomplete-item\" onClick={() => toggleComplete(item.id)} />\n                            <label htmlFor=\"Incomplete-item\">Complete</label>\n                          </div>\n                      }\n                    </div>\n                    <hr />\n                  </div>\n                </div>\n              )\n            })\n            : currentUncompletedPosts.map((item, index) => {\n              return (\n                <div className='list-continuer' key={index}>\n                  <div key={item.id} className='items'>\n                    <div className='btn-list'>\n                      <button onClick={() => deleteListItem(item.id)}>x</button>\n                    </div>\n                    <p className='p-text'>\n                      {item.text}\n                    </p>\n                    <div className='p-holder'>\n                      <span className='p-assigned'><small>Assigned to: {item.assignee}</small></span>\n                      <span className='p-difficulty'><small>Difficulty: {item.difficulty}</small></span>\n                    </div>\n                    <div className='checkbox'>\n                      {\n                        !item.complete ? <div>\n                          <input type=\"checkbox\" name='Incomplete' onClick={() => toggleUncompletedList(item.id)} />\n                          <label htmlFor=\"Incomplete\">Complete</label>\n                        </div> : null\n                      }\n                    </div>\n                    <hr />\n                  </div>\n                </div>\n              )\n            })\n        }\n        <div className='page'>\n          <Pagination postsPerPage={postsPerPage}\n            totalPosts={todos.length}\n            paginate={paginate} />\n        </div> */}","import React from 'react';\nimport { Navbar, Alignment } from '@blueprintjs/core';\n\nimport './navbar.scss'\n\nconst homeNavbar = () => {\n  return (\n    <Navbar>\n      <Navbar.Group align={Alignment.LEFT}>\n        <Navbar.Heading>ToDo App</Navbar.Heading>\n        <Navbar.Divider />\n      </Navbar.Group>\n    </Navbar>\n  )\n}\n\nexport default homeNavbar","import React, { useContext, useState } from \"react\";\nimport \"./loginForm.css\"\nimport { LoginContext } from \"../context/Login\";\nimport { When } from \"react-if\";\n\nexport default function LoginForm(props) {\n  const loginContext = useContext(LoginContext);\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState();\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    loginContext.login(username, password);\n  };\n  const usernameHandler = (e) => {\n    e.preventDefault();\n    setUsername(e.target.value);\n  };\n  const passwordHandler = (e) => {\n    e.preventDefault();\n    setPassword(e.target.value);\n  };\n  return (\n    <>\n      <When condition={!loginContext.loggedIn}>\n        <div className=\"card-form\" data-testid='header'>\n          <form className=\"form-login\">\n            <div className=\"input\">\n              <label>Username </label>\n              <input data-testid='input' type=\"text\" placeholder=\"Enter your username\" name=\"uname\" required onChange={usernameHandler} />\n            </div>\n\n            <div className=\"input\">\n              <label>Password </label>\n              <input type=\"password\" placeholder=\"Enter your password\" name=\"pass\" required onChange={passwordHandler} />\n            </div>\n\n            <div className=\"button\">\n              <button data-testid='button' type=\"submit\" onClick={handleSubmit}>Log In</button>\n            </div>\n          </form>\n        </div>\n      </When>\n\n    </>\n  );\n}","import React, { Component } from 'react'\n\nimport ToDo from './components/todo/todo';\nimport Navbar from './components/navbar/Navbar';\nimport SettingsContextProvider from './components/context/Settings';\nimport Login from './components/context/Login';\nimport LoginForm from './components/LoginForm/loginForm'\nimport './App.css';\n\n\nexport default class App extends Component {\n  render() {\n    return (\n      <div className='todo-app'>\n        <Login>\n          <Navbar />\n          <LoginForm />\n          <SettingsContextProvider>\n            <ToDo />\n          </SettingsContextProvider>\n        </Login>\n      </div>\n    )\n  }\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\n// import '../node_modules/bootstrap/dist/css/bootstrap.min.css';\n// import { BrowserRouter } from \"react-router-dom\";\n\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}